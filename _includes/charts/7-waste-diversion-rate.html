<canvas width="600" height="400">
  <script>
  (function () {
  	// Pass data from Jekyll/liquid to JavaScript
    var rows = {{ site.data.waste_diversion_rate | jsonify }}

    var opts = {
      type: 'line',
      data: {
        labels: pluck(rows, 'Year'),
        datasets: [
					{
						label: 'Waste to Energy',
						data: pluck(rows, 'Waste to Energy'),
						backgroundColor: 'rgba(127, 197, 220, 0.8)',
						borderColor: 'rgba(54, 162, 235, 1)',
						borderWidth: 3
					},
					{
						label: 'Landfill',
						data: pluck(rows, 'Landfill'),
						backgroundColor: 'rgba(239, 36, 119, 0.6)',
						borderColor: 'rgba(239, 36, 119, 0.9)',
						borderWidth: 3
					},
          {
            label: 'Recycling',
            data: pluck(rows, 'Recycling'),
						backgroundColor: 'rgba(168, 191, 18, 0.7)',
            borderColor: 'rgba(168, 191, 18, 1)',
						borderWidth: 3
          }
        ]
			},
			options: {
      	scales: {
          yAxes: [{
            stacked: true,
						scaleLabel: {
							labelString: 'Tons of Waste',
							display: true
						}
          }]
				},
				title: {
					display: true,
					text: 'Citywide Waste Diversion Rate',
					postion: 'top'
				}
  		}
    }

    new Chart(getScriptParent(), opts)
  })()
  </script>
</canvas>
